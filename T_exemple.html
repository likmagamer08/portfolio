<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/tween.umd.js"></script>
  <title>Tween exemple 1</title>

  <style>
    .carre1 {
      width: 200px;
      height: 200px;
      background-color: green;
      position: relative;
    }
  </style>
</head>
<body>
  <!-- Tween première animation simple -->
  <div class="carre1"></div>
  <br>
  <button id="startBtn">Commencer l'animation</button>

  <!-- <script>
    // Sélection des éléments
    const carre1 = document.querySelector('.carre1');
    const startBtn = document.getElementById('startBtn');

    // Objet animé
    const position = { x: 0 };

    // Création du tween
    const tween1 = new TWEEN.Tween(position)
      .to({ x: 400 }, 2000)
      .onUpdate(() => {
        carre1.style.transform = `translateX(${position.x}px)`;
      });

    // Lancer l'animation au clic
    startBtn.addEventListener('click', () => {
      tween1.start();
    });

    // Boucle d’animation obligatoire
    function animate(time) {
      requestAnimationFrame(animate);
      TWEEN.update(time);
    }
    requestAnimationFrame(animate);
  </script> -->

  <script>
    // Sélectionner les éléments
    const carre1 = document.querySelector('.carre1');
    const startBtn = document.getElementById("startBtn");

    // Objet animé
    const position = { x : 0};

    // Créer le tween
    const tween1 = new TWEEN.Tween(position)
      .to({ x : 400}, 5000)
      .onUpdate(() => {
        carre1.style.transform = `translateX(${position.x}px)`;
      });

    // Lancer l'animation au click
    startBtn.addEventListener('click', () => {
        tween1.start();
    });

    // Boucle d'animation obligatoire
    function animate(time){
        requestAnimationFrame(animate);
        TWEEN.update(time);
    }
    requestAnimationFrame(animate);

    // Retourner le carré à sa position initiale après l'animation
    tween1.onComplete(() => {
        position.x = 0; // Réinitialiser la position
        carre1.style.transform = `translateX(${position.x}px)`; // Appliquer la transformation
    });
  </script>
</body>
</html>
